# RAG API Environment Variables
# Copy this file to .env and fill in your values

# API Configuration
API_TITLE="RAG API Service"
API_VERSION="1.0.0"
API_PREFIX="/api/v1"
API_WORKERS=4
API_PORT=8000
API_HOST="0.0.0.0"

# Environment
ENVIRONMENT="development"  # development, staging, production
DEBUG=false
LOG_LEVEL="INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# MongoDB Configuration
MONGODB_URI="mongodb+srv://username:password@cluster.mongodb.net/?retryWrites=true&w=majority"
MONGODB_DATABASE="rag_development"
MONGODB_COLLECTION="documents"
MONGODB_VECTOR_INDEX="vector_index"

# AI Provider API Keys
OPENAI_API_KEY="sk-..."
VOYAGE_AI_API_KEY="pa-..."

# Optional AI Providers
ANTHROPIC_API_KEY=""
COHERE_API_KEY=""

# Embedding Configuration
EMBEDDING_PROVIDER="voyage"  # voyage or openai
EMBEDDING_MODEL_VOYAGE="voyage-3-large"
EMBEDDING_MODEL_OPENAI="text-embedding-ada-002"
EMBEDDING_BATCH_SIZE=100
EMBEDDING_DIMENSION_VOYAGE=1024
EMBEDDING_DIMENSION_OPENAI=1536

# Reranking Configuration
RERANKING_ENABLED=true
RERANKING_MODEL="rerank-2-lite"
RERANKING_TOP_K=10

# LLM Configuration
LLM_MODEL="gpt-4-turbo-preview"
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=2000
LLM_TIMEOUT=30

# Redis Cache Configuration
REDIS_URL="redis://localhost:6379"
REDIS_PREFIX="rag:"
REDIS_TTL=3600
REDIS_MAX_CONNECTIONS=50
CACHE_ENABLED=true

# API Security
VALID_API_KEYS="api-key-1,api-key-2,api-key-3"  # Comma-separated list
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60  # seconds
CORS_ORIGINS="*"  # Comma-separated list or * for all
JWT_SECRET_KEY="your-secret-key-here"
JWT_ALGORITHM="HS256"
JWT_EXPIRATION_MINUTES=1440  # 24 hours

# Request Configuration
REQUEST_TIMEOUT=30  # seconds
MAX_REQUEST_SIZE=10485760  # 10MB
MAX_BATCH_SIZE=100
MAX_CONCURRENT_REQUESTS=50

# Monitoring and Observability
ENABLE_METRICS=true
METRICS_PORT=9090
ENABLE_TRACING=false
OTEL_EXPORTER_OTLP_ENDPOINT="http://localhost:4317"
OTEL_SERVICE_NAME="rag-api"
SENTRY_DSN=""

# Feature Flags
ENABLE_STREAMING=true
ENABLE_BATCH_PROCESSING=true
ENABLE_ANALYTICS=true
ENABLE_COST_TRACKING=true

# Document Processing
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
CHUNKING_STRATEGY="token"  # token, sentence, semantic, markdown
MIN_CHUNK_SIZE=100
MAX_CHUNK_SIZE=2000

# Search Configuration
SEARCH_NUM_CANDIDATES=100
SEARCH_LIMIT=10
SEARCH_SCORE_THRESHOLD=0.7
SEARCH_INCLUDE_METADATA=true

# Performance Tuning
CONNECTION_POOL_SIZE=10
CONNECTION_TIMEOUT=10
SOCKET_TIMEOUT=30
SERVER_SELECTION_TIMEOUT=30

# AWS Configuration (for deployment)
AWS_REGION="us-east-1"
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""

# Google Cloud Configuration (for deployment)
GOOGLE_CLOUD_PROJECT=""
GOOGLE_APPLICATION_CREDENTIALS=""

# Azure Configuration (for deployment)
AZURE_TENANT_ID=""
AZURE_CLIENT_ID=""
AZURE_CLIENT_SECRET=""
AZURE_SUBSCRIPTION_ID=""

# Webhook Configuration
WEBHOOK_URL=""
WEBHOOK_SECRET=""

# Testing Configuration
TEST_MODE=false
TEST_MONGODB_URI="mongodb://localhost:27017/rag_test"
TEST_REDIS_URL="redis://localhost:6379/1"

# Development Tools
RELOAD=true  # Auto-reload on code changes (dev only)
PROFILING_ENABLED=false
SLOW_QUERY_LOG_THRESHOLD=1000  # milliseconds

# Backup Configuration
BACKUP_ENABLED=false
BACKUP_S3_BUCKET=""
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM

# Custom Configuration
CUSTOM_PROMPTS_PATH="./prompts"
CUSTOM_MODELS_PATH="./models"
PLUGINS_ENABLED=false
PLUGINS_PATH="./plugins"